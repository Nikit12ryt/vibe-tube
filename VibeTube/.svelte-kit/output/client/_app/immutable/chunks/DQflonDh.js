import{f as x,a as M}from"./b5zj641C.js";import{i as P}from"./CPnGWO-2.js";import{p as Q,l as F,m as Z,n as q,o as _,j as U,q as m,x as s,v as n,r as $,u as v,t as w,k as X}from"./BM2AIrRx.js";import{t as tt,b as g,s as H,l as et,e as rt}from"./C02I7yOd.js";import{p as y,b as st,i as z,a as at}from"./BLbrYCs1.js";import{s as b}from"./D17zy_22.js";function A(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}function C(t){const r=Math.floor(t/3600),d=Math.floor(t%3600/60),l=t%60;return r>0?`${r}:${d.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`:`${d}:${l.toString().padStart(2,"0")}`}function G(t,r="en"){const d=new Date;let l;!t.includes("Z")&&!t.includes("+")&&!t.includes("-",10)?l=new Date(t+"Z"):l=new Date(t);const o=Math.floor((d.getTime()-l.getTime())/1e3);if(o<0||o<60)return r==="ru"?"только что":"just now";const a=Math.floor(o/60);if(a<60)return r==="ru"?`${a} ${it(a)} назад`:`${a} ${a===1?"minute":"minutes"} ago`;const i=Math.floor(o/3600);if(i<24)return r==="ru"?`${i} ${nt(i)} назад`:`${i} ${i===1?"hour":"hours"} ago`;const e=Math.floor(o/86400);if(e<7)return r==="ru"?`${e} ${ot(e)} назад`:`${e} ${e===1?"day":"days"} ago`;const p=Math.floor(e/7);if(p<4)return r==="ru"?`${p} ${ut(p)} назад`:`${p} ${p===1?"week":"weeks"} ago`;const c=Math.floor(e/30);if(c<12)return r==="ru"?`${c} ${lt(c)} назад`:`${c} ${c===1?"month":"months"} ago`;const h=Math.floor(e/365);return r==="ru"?`${h} ${ct(h)} назад`:`${h} ${h===1?"year":"years"} ago`}function it(t){return t%10===1&&t%100!==11?"минуту":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"минуты":"минут"}function nt(t){return t%10===1&&t%100!==11?"час":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"часа":"часов"}function ot(t){return t%10===1&&t%100!==11?"день":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"дня":"дней"}function ut(t){return t%10===1&&t%100!==11?"неделю":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"недели":"недель"}function lt(t){return t%10===1&&t%100!==11?"месяц":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"месяца":"месяцев"}function ct(t){return t%10===1&&t%100!==11?"год":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"года":"лет"}var ft=x('<img class="svelte-t34n65"/>'),dt=x('<div class="placeholder svelte-t34n65"><span>No Thumbnail</span></div>'),vt=x('<span class="duration svelte-t34n65"> </span>'),mt=x('<a><div class="thumbnail svelte-t34n65"><!> <!></div> <div class="info svelte-t34n65"><img class="avatar svelte-t34n65"/> <div class="details svelte-t34n65"><h3 class="svelte-t34n65"> </h3> <p class="channel svelte-t34n65"> </p> <p class="meta svelte-t34n65"> </p></div></div></a>');function pt(t,r){Q(r,!1);const d=()=>st(et,"$language",l),[l,o]=at(),a=q(),i=q();let e=y(r,"video",8),p=y(r,"compact",8,!1);F(()=>d(),()=>{Z(a,d())}),F(()=>_(a),()=>{Z(i,tt[_(a)])}),U(),P();var c=mt();let h;var S=m(c),D=m(S);{var I=u=>{var f=ft();w(()=>{g(f,"src",(s(e()),n(()=>e().thumbnail_url))),g(f,"alt",(s(e()),n(()=>e().title)))}),M(u,f)},K=u=>{var f=dt();M(u,f)};z(D,u=>{s(e()),n(()=>e().thumbnail_url)?u(I):u(K,!1)})}var N=$(D,2);{var Y=u=>{var f=vt(),L=m(f,!0);v(f),w(O=>b(L,O),[()=>(s(C),s(e()),n(()=>C(e().duration)))]),M(u,f)};z(N,u=>{s(e()),n(()=>e().duration)&&u(Y)})}v(S);var T=$(S,2),k=m(T),V=$(k,2),W=m(V),B=m(W,!0);v(W);var R=$(W,2),E=m(R,!0);v(R);var j=$(R,2),J=m(j);v(j),v(V),v(T),v(c),w((u,f)=>{g(c,"href",`/watch/${s(e()),n(()=>e().id)??""}`),h=H(c,1,"video-card svelte-t34n65",null,h,{compact:p()}),g(k,"src",(s(e()),n(()=>e().user_avatar))),g(k,"alt",(s(e()),n(()=>e().username))),b(B,(s(e()),n(()=>e().title))),b(E,(s(e()),n(()=>e().username))),b(J,`${u??""} ${_(i),n(()=>_(i).views)??""} • ${f??""}`)},[()=>(s(A),s(e()),n(()=>A(e().views))),()=>(s(G),s(e()),_(a),n(()=>G(e().created_at,_(a))))]),M(t,c),X(),o()}var ht=x("<div></div>");function wt(t,r){let d=y(r,"videos",24,()=>[]),l=y(r,"compact",8,!1);var o=ht();let a;rt(o,5,d,i=>i.id,(i,e)=>{pt(i,{get video(){return _(e)},get compact(){return l()}})}),v(o),w(()=>a=H(o,1,"video-grid svelte-16xszx7",null,a,{compact:l()})),M(t,o)}export{wt as V,G as a,A as f};
