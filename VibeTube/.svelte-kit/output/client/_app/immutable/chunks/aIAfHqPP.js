import{c as _,a as f,f as I}from"./b5zj641C.js";import{i as he}from"./CPnGWO-2.js";import{f as b,p as me,m as g,t as D,k as ge,q as c,o as t,n as T,aW as je,r as d,u as i,l as Ce,j as Le,z as Se,v as h,x as X}from"./BM2AIrRx.js";import{e as m,s as w}from"./D17zy_22.js";import{l as x,s as y,i as Y,p as ve}from"./BLbrYCs1.js";import{I as k,l as Z,s as ee,c as He,t as Ue,r as Ve,b as H,V as De}from"./C02I7yOd.js";import{g as Ie}from"./DaEquOvF.js";import{t as pe}from"./CHb63VeJ.js";import{s as z}from"./Doq7kNre.js";function Oe(l){return function(...a){var e=a[0];return e.stopPropagation(),l?.apply(this,a)}}function qe(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];k(l,y({name:"globe"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function Ae(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];k(l,y({name:"log-out"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function Ee(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];k(l,y({name:"menu"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function Ge(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];k(l,y({name:"moon"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function Qe(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];k(l,y({name:"search"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function Re(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];k(l,y({name:"settings"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function We(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];k(l,y({name:"sun"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}function fe(l,a){const e=x(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];k(l,y({name:"user"},()=>e,{get iconNode(){return n},children:(u,v)=>{var s=_(),o=b(s);z(o,a,"default",{}),f(u,s)},$$slots:{default:!0}}))}var Be=I('<div class="lang-menu svelte-1v2j48r"><button><span class="flag svelte-1v2j48r">ğŸ‡ºğŸ‡¸</span> <span>English</span></button> <button><span class="flag svelte-1v2j48r">ğŸ‡·ğŸ‡º</span> <span>Ğ ÑƒÑÑĞºĞ¸Ğ¹</span></button></div>'),Fe=I('<div class="language-switcher svelte-1v2j48r"><button class="lang-btn svelte-1v2j48r"><!> <span class="lang-code svelte-1v2j48r"> </span></button> <!></div>');function Je(l,a){me(a,!1);let e=T("en"),n=T(!1);Z.subscribe(p=>{g(e,p)});function u(p){Z.set(p),g(n,!1)}function v(p){p.target.closest(".language-switcher")||g(n,!1)}he();var s=Fe();m("click",je,v);var o=c(s),P=c(o);qe(P,{size:20});var $=d(P,2),Q=c($,!0);i($),i(o);var R=d(o,2);{var W=p=>{var M=Be(),N=c(M);let j;var C=d(N,2);let O;i(M),D(()=>{j=ee(N,1,"lang-option svelte-1v2j48r",null,j,{active:t(e)==="en"}),O=ee(C,1,"lang-option svelte-1v2j48r",null,O,{active:t(e)==="ru"})}),m("click",N,()=>u("en")),m("click",C,()=>u("ru")),f(p,M)};Y(R,p=>{t(n)&&p(W)})}i(s),D(p=>w(Q,p),[()=>t(e).toUpperCase()]),m("click",o,Oe(()=>g(n,!t(n)))),f(l,s),ge()}var Ke=I('<a href="/upload" class="upload-btn svelte-1elxaub"><!> <span class="svelte-1elxaub"> </span></a> <div class="user-menu svelte-1elxaub"><button class="icon-btn svelte-1elxaub" aria-label="User menu"><img class="avatar svelte-1elxaub"/></button> <div role="menu" tabindex="-1"><a class="svelte-1elxaub"><!> </a> <a href="/settings" class="svelte-1elxaub"><!> </a> <a href="/studio" class="svelte-1elxaub"><!> </a> <button class="svelte-1elxaub"><!> </button></div></div>',1),Xe=I('<a href="/login" class="btn-primary"> </a>'),Ye=I('<header class="svelte-1elxaub"><div class="header-left svelte-1elxaub"><button class="icon-btn svelte-1elxaub"><!></button> <a href="/" class="logo svelte-1elxaub"><img src="/logo.png" alt="VibeTube" class="logo-image svelte-1elxaub"/> <span class="svelte-1elxaub">VibeTube</span></a></div> <form class="search-form svelte-1elxaub"><input type="text" class="svelte-1elxaub"/> <button type="submit" class="search-btn svelte-1elxaub"><!></button></form> <div class="header-right svelte-1elxaub"><button class="icon-btn theme-toggle svelte-1elxaub"><!></button> <!> <!></div></header>');function ct(l,a){me(a,!1);const e=T();let n=ve(a,"user",8,null),u=ve(a,"onMenuClick",8,()=>{}),v=T(""),s=T(!1),o=null,P=T("en"),$=T("dark");Z.subscribe(r=>{g(P,r)}),pe.subscribe(r=>{g($,r)});function Q(){pe.toggle()}function R(r){r.preventDefault(),t(v).trim()&&Ie(`/search?q=${encodeURIComponent(t(v))}`)}async function W(){await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"}function p(){o&&(clearTimeout(o),o=null),g(s,!0)}function M(){o=setTimeout(()=>{g(s,!1)},300)}Ce(()=>t(P),()=>{g(e,Ue[t(P)])}),Le(),he();var N=Ye(),j=c(N),C=c(j),O=c(C);Ee(O,{size:24}),i(C),Se(2),i(j);var q=d(j,2),A=c(q);Ve(A);var te=d(A,2),$e=c(te);Qe($e,{size:20}),i(te),i(q);var ae=d(q,2),L=c(ae),be=c(L);{var _e=r=>{We(r,{size:20})},xe=r=>{Ge(r,{size:20})};Y(be,r=>{t($)==="dark"?r(_e):r(xe,!1)})}i(L);var se=d(L,2);Je(se,{});var ye=d(se,2);{var ke=r=>{var S=Ke(),U=b(S),ne=c(U);De(ne,{size:20});var oe=d(ne,2),Me=c(oe,!0);i(oe),i(U);var E=d(U,2),B=c(E),re=c(B);i(B);var V=d(B,2);let le;var G=c(V),ce=c(G);fe(ce,{size:18});var Ne=d(ce);i(G);var F=d(G,2),ie=c(F);Re(ie,{size:18});var we=d(ie);i(F);var J=d(F,2),ue=c(J);fe(ue,{size:18});var Te=d(ue);i(J);var K=d(J,2),de=c(K);Ae(de,{size:18});var Pe=d(de);i(K),i(V),i(E),D(()=>{w(Me,(t(e),h(()=>t(e).upload))),H(re,"src",(X(n()),h(()=>n().avatar))),H(re,"alt",(X(n()),h(()=>n().username))),le=ee(V,1,"dropdown svelte-1elxaub",null,le,{open:t(s)}),H(G,"href",`/channel/${X(n()),h(()=>n().id)??""}`),w(Ne,` ${t(e),h(()=>t(e).myChannel)??""}`),w(we,` ${t(e),h(()=>t(e).settings)??""}`),w(Te,` ${t(e),h(()=>t(e).studio)??""}`),w(Pe,` ${t(e),h(()=>t(e).logout)??""}`)}),m("click",K,W),m("mouseenter",V,p),m("mouseleave",V,M),m("mouseenter",E,p),m("mouseleave",E,M),f(r,S)},ze=r=>{var S=Xe(),U=c(S,!0);i(S),D(()=>w(U,(t(e),h(()=>t(e).login)))),f(r,S)};Y(ye,r=>{n()?r(ke):r(ze,!1)})}i(ae),i(N),D(()=>{H(A,"placeholder",(t(e),h(()=>t(e).search))),H(L,"aria-label",(t($),t(e),h(()=>t($)==="dark"?t(e).lightTheme:t(e).darkTheme))),H(L,"title",(t($),t(e),h(()=>t($)==="dark"?t(e).lightTheme:t(e).darkTheme)))}),m("click",C,function(...r){u()?.apply(this,r)}),He(A,()=>t(v),r=>g(v,r)),m("submit",q,R),m("click",L,Q),f(l,N),ge()}export{ct as H,fe as U};
