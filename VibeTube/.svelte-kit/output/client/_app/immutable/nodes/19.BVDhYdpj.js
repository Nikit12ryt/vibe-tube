import{f as x,a as c,c as F}from"../chunks/b5zj641C.js";import{i as I}from"../chunks/CPnGWO-2.js";import{o as J}from"../chunks/Bvetg77p.js";import{p as K,l as O,j as N,t as $,k as P,o as e,n as o,y as Q,m as i,q as n,r as k,$ as U,u as l,v as m,f as X}from"../chunks/BM2AIrRx.js";import{s as w}from"../chunks/D17zy_22.js";import{i as S,a as Y,b as Z}from"../chunks/BLbrYCs1.js";import{h as ee}from"../chunks/DMkD6tIR.js";import{l as ae,t as te,s as se}from"../chunks/C02I7yOd.js";import{H as re}from"../chunks/aIAfHqPP.js";import{S as oe}from"../chunks/BcVKEG13.js";import{V as ie}from"../chunks/DQflonDh.js";var ne=x('<div class="loading svelte-1bhu077"> </div>'),le=x('<div class="empty svelte-1bhu077"> </div>'),ue=x('<div class="app svelte-1bhu077"><!> <!> <main><div class="container"><h1 class="svelte-1bhu077"> </h1> <!></div></main></div>');function ke(W,q){K(q,!1);const y=()=>Z(ae,"$language",C),[C,D]=Y(),f=o(),s=o();let u=o([]),p=o(null),v=o(!0),L=o(!0);J(async()=>{const a=await fetch("/api/auth/me");if(!a.ok){window.location.href="/login";return}const t=await a.json();i(p,t.user),i(L,!1),i(u,[])}),O(()=>y(),()=>{i(f,y())}),O(()=>e(f),()=>{i(s,te[e(f)])}),N(),I();var d=ue();ee("1bhu077",a=>{Q(()=>{U.title="Watch Later - VibeTube"})});var V=n(d);re(V,{get user(){return e(p)},onMenuClick:()=>i(v,!e(v))});var j=k(V,2);oe(j,{get isOpen(){return e(v)},get user(){return e(p)}});var _=k(j,2);let H;var M=n(_),g=n(M),G=n(g,!0);l(g);var R=k(g,2);{var T=a=>{var t=ne(),h=n(t,!0);l(t),$(()=>w(h,(e(s),m(()=>e(s).loading)))),c(a,t)},z=a=>{var t=F(),h=X(t);{var A=r=>{var b=le(),E=n(b,!0);l(b),$(()=>w(E,(e(s),m(()=>e(s).noWatchLater)))),c(r,b)},B=r=>{ie(r,{get videos(){return e(u)}})};S(h,r=>{e(u),m(()=>e(u).length===0)?r(A):r(B,!1)},!0)}c(a,t)};S(R,a=>{e(L)?a(T):a(z,!1)})}l(M),l(_),l(d),$(()=>{H=se(_,1,"svelte-1bhu077",null,H,{"sidebar-open":e(v)}),w(G,(e(s),m(()=>e(s).watchLater)))}),c(W,d),P(),D()}export{ke as component};
