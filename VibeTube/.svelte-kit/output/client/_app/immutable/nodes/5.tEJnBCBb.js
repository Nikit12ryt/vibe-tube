import{f as $,a as c,c as I}from"../chunks/b5zj641C.js";import{i as J}from"../chunks/CPnGWO-2.js";import{o as K}from"../chunks/Bvetg77p.js";import{p as N,l as O,j as P,t as j,k as Q,o as e,n as i,y as U,m as n,q as l,r as w,$ as W,u as d,v as f,f as X}from"../chunks/BM2AIrRx.js";import{s as z}from"../chunks/D17zy_22.js";import{i as S,a as Y,b as Z}from"../chunks/BLbrYCs1.js";import{h as ee}from"../chunks/DMkD6tIR.js";import{l as ae,t as se,s as te}from"../chunks/C02I7yOd.js";import{H as re}from"../chunks/aIAfHqPP.js";import{S as oe}from"../chunks/BcVKEG13.js";import{V as ie}from"../chunks/DQflonDh.js";var ne=$('<div class="loading svelte-ajgdzm"> </div>'),le=$('<div class="empty svelte-ajgdzm"> </div>'),de=$('<div class="app svelte-ajgdzm"><!> <!> <main><div class="container"><h1 class="svelte-ajgdzm"> </h1> <!></div></main></div>');function je(q,C){N(C,!1);const x=()=>Z(ae,"$language",D),[D,G]=Y(),u=i(),t=i();let m=i([]),p=i(null),v=i(!0),y=i(!0);K(async()=>{const a=await fetch("/api/auth/me");if(!a.ok){window.location.href="/login";return}const s=await a.json();n(p,s.user);const r=await fetch("/api/liked/videos");if(r.ok){const k=await r.json();n(m,k.videos)}n(y,!1)}),O(()=>x(),()=>{n(u,x())}),O(()=>e(u),()=>{n(t,se[e(u)])}),P(),J();var g=de();ee("ajgdzm",a=>{U(()=>{W.title="Liked Videos - VibeTube"})});var V=l(g);re(V,{get user(){return e(p)},onMenuClick:()=>n(v,!e(v))});var H=w(V,2);oe(H,{get isOpen(){return e(v)},get user(){return e(p)}});var _=w(H,2);let L;var M=l(_),h=l(M),R=l(h,!0);d(h);var T=w(h,2);{var A=a=>{var s=ne(),r=l(s,!0);d(s),j(()=>z(r,(e(t),f(()=>e(t).loading)))),c(a,s)},B=a=>{var s=I(),r=X(s);{var k=o=>{var b=le(),F=l(b,!0);d(b),j(()=>z(F,(e(t),f(()=>e(t).noLikedVideos)))),c(o,b)},E=o=>{ie(o,{get videos(){return e(m)}})};S(r,o=>{e(m),f(()=>e(m).length===0)?o(k):o(E,!1)},!0)}c(a,s)};S(T,a=>{e(y)?a(A):a(B,!1)})}d(M),d(_),d(g),j(()=>{L=te(_,1,"svelte-ajgdzm",null,L,{"sidebar-open":e(v)}),z(R,(e(t),f(()=>e(t).liked)))}),c(q,g),Q(),G()}export{je as component};
