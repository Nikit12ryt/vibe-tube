import{f as N,a as A}from"../chunks/b5zj641C.js";import{i as Z}from"../chunks/CPnGWO-2.js";import{p as ee,l as C,j as ae,t as D,o as e,k as se,n as p,y as te,q as s,r as l,m as o,$ as re,z as le,u as t,v as u}from"../chunks/BM2AIrRx.js";import{e as ie,s as v}from"../chunks/D17zy_22.js";import{i as oe,a as ne,b as ve}from"../chunks/BLbrYCs1.js";import{h as de}from"../chunks/DMkD6tIR.js";import{V as pe,c as H,l as ue,t as ce,r as J,b as L}from"../chunks/C02I7yOd.js";var xe=N('<div class="error svelte-1x05zx6"> </div>'),me=N('<div class="auth-page svelte-1x05zx6"><div class="auth-card svelte-1x05zx6"><div class="logo svelte-1x05zx6"><!> <h1 class="svelte-1x05zx6">VibeTube</h1></div> <h2 class="svelte-1x05zx6"> </h2> <form><!> <div class="form-group svelte-1x05zx6"><label for="email" class="svelte-1x05zx6"> </label> <input id="email" type="email" required class="svelte-1x05zx6"/></div> <div class="form-group svelte-1x05zx6"><label for="password" class="svelte-1x05zx6"> </label> <input id="password" type="password" required class="svelte-1x05zx6"/></div> <button type="submit" class="btn-primary svelte-1x05zx6"> </button></form> <p class="switch svelte-1x05zx6"> <a href="/register" class="svelte-1x05zx6"> </a></p></div></div>');function we(P,U){ee(U,!1);const V=()=>ve(ue,"$language",B),[B,F]=ne(),i=p(),a=p();let _=p(""),b=p(""),c=p(""),n=p(!1);async function G(r){r.preventDefault(),o(c,""),o(n,!0);const d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e(_),password:e(b)})}),T=await d.json();d.ok?window.location.href="/":o(c,T.error||(e(i)==="ru"?"Ошибка входа":"Login failed")),o(n,!1)}C(()=>V(),()=>{o(i,V())}),C(()=>e(i),()=>{o(a,ce[e(i)])}),ae(),Z();var g=me();de("1x05zx6",r=>{te(()=>{re.title="Sign In - VibeTube"})});var j=s(g),h=s(j),K=s(h);pe(K,{size:48}),le(2),t(h);var z=l(h,2),M=s(z,!0);t(z);var x=l(z,2),q=s(x);{var Q=r=>{var d=xe(),T=s(d,!0);t(d),D(()=>v(T,e(c))),A(r,d)};oe(q,r=>{e(c)&&r(Q)})}var y=l(q,2),w=s(y),R=s(w,!0);t(w);var m=l(w,2);J(m),t(y);var $=l(y,2),S=s($),W=s(S,!0);t(S);var f=l(S,2);J(f),t($);var k=l($,2),X=s(k,!0);t(k),t(x);var I=l(x,2),E=s(I),O=l(E),Y=s(O,!0);t(O),t(I),t(j),t(g),D(()=>{v(M,(e(a),u(()=>e(a).signIn))),v(R,(e(a),u(()=>e(a).email))),L(m,"placeholder",e(i)==="ru"?"Введите ваш email":"Enter your email"),m.disabled=e(n),v(W,(e(a),u(()=>e(a).password))),L(f,"placeholder",e(i)==="ru"?"Введите ваш пароль":"Enter your password"),f.disabled=e(n),k.disabled=e(n),v(X,(e(n),e(i),e(a),u(()=>e(n)?e(i)==="ru"?"Вход...":"Signing in...":e(a).signIn))),v(E,`${e(a),u(()=>e(a).dontHaveAccount)??""} `),v(Y,(e(a),u(()=>e(a).signUp)))}),H(m,()=>e(_),r=>o(_,r)),H(f,()=>e(b),r=>o(b,r)),ie("submit",x,G),A(P,g),se(),F()}export{we as component};
