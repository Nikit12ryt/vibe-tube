import{f as V,a as f,c as L}from"../chunks/b5zj641C.js";import{i as N}from"../chunks/CPnGWO-2.js";import{o as P}from"../chunks/Bvetg77p.js";import{p as Q,l as D,j as W,t as x,k as X,o as a,n as l,y as Y,m as v,q as r,r as m,$ as Z,u as o,v as d,f as aa}from"../chunks/BM2AIrRx.js";import{s as _}from"../chunks/D17zy_22.js";import{i as G,a as ea,b as ta}from"../chunks/BLbrYCs1.js";import{h as sa}from"../chunks/DMkD6tIR.js";import{l as ra,t as oa,s as ia}from"../chunks/C02I7yOd.js";import{H as na}from"../chunks/aIAfHqPP.js";import{S as la}from"../chunks/BcVKEG13.js";import{V as va}from"../chunks/DQflonDh.js";var da=V('<div class="loading svelte-3r3o56"> </div>'),ua=V('<div class="empty svelte-3r3o56"><p> </p> <a href="/upload" class="btn-primary"> </a></div>'),ca=V('<div class="app svelte-3r3o56"><!> <!> <main><div class="container"><h1 class="svelte-3r3o56"> </h1> <!></div></main></div>');function xa(I,R){Q(R,!1);const j=()=>ta(ra,"$language",T),[T,U]=ea(),g=l(),t=l();let u=l([]),c=l(null),p=l(!0),H=l(!0);P(async()=>{const e=await fetch("/api/auth/me");if(!e.ok){window.location.href="/login";return}const s=await e.json();v(c,s.user);const i=await fetch(`/api/videos?userId=${a(c).id}`);if(i.ok){const $=await i.json();v(u,$.videos)}v(H,!1)}),D(()=>j(),()=>{v(g,j())}),D(()=>a(g),()=>{v(t,oa[a(g)])}),W(),N();var h=ca();sa("3r3o56",e=>{Y(()=>{Z.title="My Videos - VibeTube"})});var M=r(h);na(M,{get user(){return a(c)},onMenuClick:()=>v(p,!a(p))});var O=m(M,2);la(O,{get isOpen(){return a(p)},get user(){return a(c)}});var b=m(O,2);let S;var q=r(b),y=r(q),z=r(y,!0);o(y);var A=m(y,2);{var B=e=>{var s=da(),i=r(s,!0);o(s),x(()=>_(i,(a(t),d(()=>a(t).loading)))),f(e,s)},E=e=>{var s=L(),i=aa(s);{var $=n=>{var k=ua(),w=r(k),J=r(w,!0);o(w);var C=m(w,2),K=r(C,!0);o(C),o(k),x(()=>{_(J,(a(t),d(()=>a(t).youHaventUploaded))),_(K,(a(t),d(()=>a(t).uploadVideo)))}),f(n,k)},F=n=>{va(n,{get videos(){return a(u)}})};G(i,n=>{a(u),d(()=>a(u).length===0)?n($):n(F,!1)},!0)}f(e,s)};G(A,e=>{a(H)?e(B):e(E,!1)})}o(q),o(b),o(h),x(()=>{S=ia(b,1,"svelte-3r3o56",null,S,{"sidebar-open":a(p)}),_(z,(a(t),d(()=>a(t).yourVideos)))}),f(I,h),X(),U()}export{xa as component};
