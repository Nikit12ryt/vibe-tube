import{f as F,a as P}from"../chunks/b5zj641C.js";import{i as re}from"../chunks/CPnGWO-2.js";import{p as le,l as R,j as ie,t as B,o as e,k as oe,n as u,y as ve,q as a,r as l,m as o,$ as ne,z as ue,u as s,v as f}from"../chunks/BM2AIrRx.js";import{e as de,s as n}from"../chunks/D17zy_22.js";import{i as fe,a as ce,b as pe}from"../chunks/BLbrYCs1.js";import{h as me}from"../chunks/DMkD6tIR.js";import{V as ge,c as A,l as he,t as _e,r as O,b as U}from"../chunks/C02I7yOd.js";var be=F('<div class="error svelte-52fghe"> </div>'),ye=F('<div class="auth-page svelte-52fghe"><div class="auth-card svelte-52fghe"><div class="logo svelte-52fghe"><!> <h1 class="svelte-52fghe">VibeTube</h1></div> <h2 class="svelte-52fghe"> </h2> <form><!> <div class="form-group svelte-52fghe"><label for="username" class="svelte-52fghe"> </label> <input id="username" type="text" required class="svelte-52fghe"/></div> <div class="form-group svelte-52fghe"><label for="email" class="svelte-52fghe"> </label> <input id="email" type="email" required class="svelte-52fghe"/></div> <div class="form-group svelte-52fghe"><label for="password" class="svelte-52fghe"> </label> <input id="password" type="password" required minlength="6" class="svelte-52fghe"/></div> <button type="submit" class="btn-primary svelte-52fghe"> </button></form> <p class="switch svelte-52fghe"> <a href="/login" class="svelte-52fghe"> </a></p></div></div>');function Te(G,K){le(K,!1);const D=()=>pe(he,"$language",L),[L,M]=ce(),i=u(),t=u();let _=u(""),b=u(""),y=u(""),c=u(""),v=u(!1);async function Q(r){r.preventDefault(),o(c,""),o(v,!0);const d=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e(_),email:e(b),password:e(y)})}),z=await d.json();d.ok?window.location.href="/":o(c,z.error||(e(i)==="ru"?"Ошибка регистрации":"Registration failed")),o(v,!1)}R(()=>D(),()=>{o(i,D())}),R(()=>e(i),()=>{o(t,_e[e(i)])}),ie(),re();var w=ye();me("52fghe",r=>{ve(()=>{ne.title="Sign Up - VibeTube"})});var E=a(w),x=a(E),W=a(x);ge(W,{size:48}),ue(2),s(x);var $=l(x,2),X=a($,!0);s($);var p=l($,2),H=a(p);{var Y=r=>{var d=be(),z=a(d,!0);s(d),B(()=>n(z,e(c))),P(r,d)};fe(H,r=>{e(c)&&r(Y)})}var C=l(H,2),k=a(C),Z=a(k,!0);s(k);var m=l(k,2);O(m),s(C);var q=l(C,2),S=a(q),ee=a(S,!0);s(S);var g=l(S,2);O(g),s(q);var T=l(q,2),V=a(T),ae=a(V,!0);s(V);var h=l(V,2);O(h),s(T);var j=l(T,2),se=a(j,!0);s(j),s(p);var I=l(p,2),J=a(I),N=l(J),te=a(N,!0);s(N),s(I),s(E),s(w),B(()=>{n(X,e(i)==="ru"?"Создать аккаунт":"Create Account"),n(Z,(e(t),f(()=>e(t).username))),U(m,"placeholder",e(i)==="ru"?"Выберите имя пользователя":"Choose a username"),m.disabled=e(v),n(ee,(e(t),f(()=>e(t).email))),U(g,"placeholder",e(i)==="ru"?"Введите ваш email":"Enter your email"),g.disabled=e(v),n(ae,(e(t),f(()=>e(t).password))),U(h,"placeholder",e(i)==="ru"?"Выберите пароль (минимум 6 символов)":"Choose a password (min 6 characters)"),h.disabled=e(v),j.disabled=e(v),n(se,(e(v),e(i),e(t),f(()=>e(v)?e(i)==="ru"?"Создание аккаунта...":"Creating account...":e(t).signUp))),n(J,`${e(t),f(()=>e(t).alreadyHaveAccount)??""} `),n(te,(e(t),f(()=>e(t).signIn)))}),A(m,()=>e(_),r=>o(_,r)),A(g,()=>e(b),r=>o(b,r)),A(h,()=>e(y),r=>o(y,r)),de("submit",p,Q),P(G,w),oe(),M()}export{Te as component};
